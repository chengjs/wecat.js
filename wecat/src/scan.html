<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div class="cl1">
    <div class="cl2"></div>
    <ul class="cl3">
        <li>aa</li>
        <li>bb</li>
        <li class="cl4" data-model="user">cc</li>
    </ul>
    <div test="cc"></div>
</div>

<script>

    let node = document.querySelector('.cl1')
    // let node2 = document.querySelector('[test]')

    // console.log(node2)


    scan(node)

    /*
        扫描dom的函数
    */
    function scan(node) {
        if(!node.getAttribute('v-for')) {
            for(let i = 0; i < node.children.length; i++) {
                const _thisNode = node.children[i]
                console.log(_thisNode)
                //解析Model节点
                parseModel(_thisNode)
                //解析className
                parseClass(_thisNode)
                if(_thisNode.children.length) {
                    scan(_thisNode)
                }
            }
        } else {
            // 作为for循环渲染
            parseFor(node)
        }
    }

    /*
        解析具有v-model属性的节点
   */
    function parseModel(node) {

    }
    /*
        解析具有v-class属性的节点
   */
    function parseClass(node) {
        if(node.getAttribute('v-class')) {
            const className = node.getAttribute('data-class')
            const _data = parseData(className, node)
            if(!node.classList.contains(_data.data)) {
                node.classList.add(_data.data)
            }
        }
    }
    /*
        解析具有v-for属性的节点
    */
    function parseFor(node) {

    }

    // 辅助函数
    function parseData(str, node) {

    }


</script>


</body>
</html>